(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},3:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(14),u=n.n(r),c=n(2),o=n(4),m=n.n(o),i="/api/persons",s=function(){return m.a.get(i).then((function(e){return e.data}))},d=function(e){return m.a.post(i,e).then((function(e){return e.data}))},f=function(e){var t="".concat(i,"/").concat(e);return m.a.delete(t).then((function(e){return e.data}))},b=function(e){var t=e.filterChange;return l.a.createElement("div",null,"Filter names shown with ",l.a.createElement("input",{onChange:t})," ")},h=function(e){var t=e.newName,n=e.checkName,a=e.addNewName,r=e.newNumber,u=e.checkNumber;return l.a.createElement("form",null,l.a.createElement("div",null,"name: ",l.a.createElement("input",{value:t,onChange:n})),l.a.createElement("div",null," number: ",l.a.createElement("input",{value:r,onChange:u})," "),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",onClick:a},"Add")))},E=function(e){var t=e.person,n=e.deleteCallBack;return l.a.createElement("div",null,l.a.createElement("div",null,t.name," ",t.number,l.a.createElement("button",{onClick:function(){n(t.id,t.name)}}," Delete ")))},v=function(e){return l.a.createElement("ul",null,e.people.map((function(t,n){return l.a.createElement("li",{key:n},l.a.createElement(E,{person:t,deleteCallBack:e.deleteCallBack})," ")})))},p=(n(3),function(e){var t=e.name;return null===t||""===t?null:l.a.createElement("div",{className:"Added"},t," was added to phonebook!")}),N=function(e){var t=e.name;return null===t||""===t?null:l.a.createElement("div",{className:"Deleted"},t," was successfully deleted from the phonebook.")},j=function(e){var t=e.name;return null===t||""===t?null:l.a.createElement("div",{className:"Updated"},"Information for ",t," was updated.")},w=function(e){var t=e.name;return null===t?null:l.a.createElement("div",{className:"NotFound"},"Information for ",t," has already been removed from the server.")},O=function(e){var t=e.error;return null===t?null:l.a.createElement("div",{className:"NotFound"},t)},k=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(""),o=Object(c.a)(u,2),m=o[0],i=o[1],E=Object(a.useState)(""),k=Object(c.a)(E,2),g=k[0],C=k[1],S=Object(a.useState)(n),y=Object(c.a)(S,2),B=y[0],D=y[1],T=Object(a.useState)(null),A=Object(c.a)(T,2),F=A[0],I=A[1],J=Object(a.useState)(null),L=Object(c.a)(J,2),x=L[0],M=L[1],P=Object(a.useState)(null),U=Object(c.a)(P,2),q=U[0],z=(U[1],Object(a.useState)(null)),G=Object(c.a)(z,2),H=G[0],K=G[1],Q=Object(a.useState)(null),R=Object(c.a)(Q,2),V=R[0],W=R[1];Object(a.useEffect)((function(){s().then((function(e){r(e),D(e)}))}),[]);return l.a.createElement("div",null,l.a.createElement("h2",null,"Phonebook "),l.a.createElement(p,{name:F}),l.a.createElement(j,{name:q}),l.a.createElement(N,{name:x}),l.a.createElement(w,{name:H}),l.a.createElement(O,{error:V}),l.a.createElement(b,{filterChange:function(e){var t=e.target.value.toLowerCase();if(""===t)D(n);else{var a=n.filter((function(e){return e.name.toLowerCase().includes(t)}));D(a)}}}),l.a.createElement("h2",null,"Add a new person"),l.a.createElement(h,{newName:m,checkName:function(e){return i(e.target.value)},addNewName:function(e){e.preventDefault();var t={name:m,number:g,id:n[n.length-1].id+1};d(t).then((function(e){n.push(e),r(n),i(""),C(""),I(t.name),setTimeout((function(){I(null)}),3e3)})).catch((function(e){console.log(e.response.data),W(e.response.data.error),setTimeout((function(){W(null)}),3e3),console.log("failed to add new contact")}))},newNumber:g,checkNumber:function(e){return C(e.target.value)}}),l.a.createElement("h2",null,"Numbers "),l.a.createElement(v,{people:B,deleteCallBack:function(e,t){var n="Delete "+t+"?";window.confirm(n)&&f(e).then((function(e){s().then((function(e){r(e),D(e),M(t),setTimeout((function(){M(null)}),3e3)}))})).catch((function(e){K(t),setTimeout((function(){K(null)}),3e3)}))}}))};u.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(k,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.56d33696.chunk.js.map